shadow$provide.module$node_modules$$babylonjs$core$Engines$Extensions$engine_uniformBuffer=function(global,require,module,exports){global=require("module$node_modules$$babylonjs$core$Engines$thinEngine");var _webGLDataBuffer=require("module$node_modules$$babylonjs$core$Meshes$WebGL$webGLDataBuffer");global.ThinEngine.prototype.createUniformBuffer=function(elements){var ubo=this._gl.createBuffer();if(!ubo)throw Error("Unable to create uniform buffer");ubo=new _webGLDataBuffer.WebGLDataBuffer(ubo);
this.bindUniformBuffer(ubo);elements instanceof Float32Array?this._gl.bufferData(this._gl.UNIFORM_BUFFER,elements,this._gl.STATIC_DRAW):this._gl.bufferData(this._gl.UNIFORM_BUFFER,new Float32Array(elements),this._gl.STATIC_DRAW);this.bindUniformBuffer(null);ubo.references=1;return ubo};global.ThinEngine.prototype.createDynamicUniformBuffer=function(elements){var ubo=this._gl.createBuffer();if(!ubo)throw Error("Unable to create dynamic uniform buffer");ubo=new _webGLDataBuffer.WebGLDataBuffer(ubo);
this.bindUniformBuffer(ubo);elements instanceof Float32Array?this._gl.bufferData(this._gl.UNIFORM_BUFFER,elements,this._gl.DYNAMIC_DRAW):this._gl.bufferData(this._gl.UNIFORM_BUFFER,new Float32Array(elements),this._gl.DYNAMIC_DRAW);this.bindUniformBuffer(null);ubo.references=1;return ubo};global.ThinEngine.prototype.updateUniformBuffer=function(uniformBuffer,elements,offset,count){this.bindUniformBuffer(uniformBuffer);void 0===offset&&(offset=0);void 0===count?elements instanceof Float32Array?this._gl.bufferSubData(this._gl.UNIFORM_BUFFER,
offset,elements):this._gl.bufferSubData(this._gl.UNIFORM_BUFFER,offset,new Float32Array(elements)):elements instanceof Float32Array?this._gl.bufferSubData(this._gl.UNIFORM_BUFFER,0,elements.subarray(offset,offset+count)):this._gl.bufferSubData(this._gl.UNIFORM_BUFFER,0,(new Float32Array(elements)).subarray(offset,offset+count));this.bindUniformBuffer(null)};global.ThinEngine.prototype.bindUniformBuffer=function(buffer){this._gl.bindBuffer(this._gl.UNIFORM_BUFFER,buffer?buffer.underlyingResource:null)};
global.ThinEngine.prototype.bindUniformBufferBase=function(buffer,location,name){this._gl.bindBufferBase(this._gl.UNIFORM_BUFFER,location,buffer?buffer.underlyingResource:null)};global.ThinEngine.prototype.bindUniformBlock=function(pipelineContext,blockName,index){pipelineContext=pipelineContext.program;blockName=this._gl.getUniformBlockIndex(pipelineContext,blockName);4294967295!==blockName&&this._gl.uniformBlockBinding(pipelineContext,blockName,index)}}
//# sourceMappingURL=module$node_modules$$babylonjs$core$Engines$Extensions$engine_uniformBuffer.js.map
