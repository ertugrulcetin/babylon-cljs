shadow$provide.module$node_modules$$babylonjs$core$Misc$webRequest=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.WebRequest=void 0;class WebRequest{constructor(){var JSCompiler_inline_result="undefined"!==typeof _native&&_native.XMLHttpRequest?new _native.XMLHttpRequest:new XMLHttpRequest;this._xhr=JSCompiler_inline_result;this._requestURL=""}_injectCustomRequestHeaders(){if(!this._shouldSkipRequestModifications(this._requestURL))for(const key in WebRequest.CustomRequestHeaders){const val=
WebRequest.CustomRequestHeaders[key];val&&this._xhr.setRequestHeader(key,val)}}_shouldSkipRequestModifications(url){return WebRequest.SkipRequestModificationForBabylonCDN&&(url.includes("preview.babylonjs.com")||url.includes("cdn.babylonjs.com"))}get onprogress(){return this._xhr.onprogress}set onprogress(value){this._xhr.onprogress=value}get readyState(){return this._xhr.readyState}get status(){return this._xhr.status}get statusText(){return this._xhr.statusText}get response(){return this._xhr.response}get responseURL(){return this._xhr.responseURL}get responseText(){return this._xhr.responseText}get responseType(){return this._xhr.responseType}set responseType(value){this._xhr.responseType=
value}get timeout(){return this._xhr.timeout}set timeout(value){this._xhr.timeout=value}addEventListener(type,listener,options){this._xhr.addEventListener(type,listener,options)}removeEventListener(type,listener,options){this._xhr.removeEventListener(type,listener,options)}abort(){this._xhr.abort()}send(body){WebRequest.CustomRequestHeaders&&this._injectCustomRequestHeaders();this._xhr.send(body)}open(method,url){for(const update of WebRequest.CustomRequestModifiers){if(this._shouldSkipRequestModifications(url))return;
update(this._xhr,url)}url=url.replace("file:http:","http:");this._requestURL=url=url.replace("file:https:","https:");return this._xhr.open(method,url,!0)}setRequestHeader(name,value){this._xhr.setRequestHeader(name,value)}getResponseHeader(name){return this._xhr.getResponseHeader(name)}}exports.WebRequest=WebRequest;WebRequest.CustomRequestHeaders={};WebRequest.CustomRequestModifiers=[];WebRequest.SkipRequestModificationForBabylonCDN=!0}
//# sourceMappingURL=module$node_modules$$babylonjs$core$Misc$webRequest.js.map
